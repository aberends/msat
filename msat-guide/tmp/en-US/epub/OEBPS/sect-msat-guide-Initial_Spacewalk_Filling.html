<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.6. Initial Spacewalk Filling</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="" /></head><body class="draft "><div class="section" id="sect-msat-guide-Initial_Spacewalk_Filling"><div class="titlepage"><div><div><h1 class="title" id="sect-msat-guide-Initial_Spacewalk_Filling">1.6. Initial Spacewalk Filling</h1></div></div></div><div class="table" id="tabl-msat-guide-Initial_Spacewalk_Filling-Time_needed"><h6>Table 1.10. Time needed</h6><div class="table-contents"><table summary="Time needed" border="1"><colgroup><col width="50%" style="text-align: left" class="c1" /><col width="50%" style="text-align: left" class="c2" /></colgroup><thead valign="top"><tr><th style="text-align: left" valign="top">
						action
					</th><th style="text-align: left" valign="top">
						time
					</th></tr></thead><tbody valign="top"><tr><td style="text-align: left" valign="top">
						Download DVD1
					</td><td style="text-align: left" valign="top">
						77 minutes
					</td></tr><tr><td style="text-align: left" valign="top">
						Download DVD2
					</td><td style="text-align: left" valign="top">
						12 minutes
					</td></tr><tr><td style="text-align: left" valign="top">
						Download Spacewalk client tools
					</td><td style="text-align: left" valign="top">
						6 minutes
					</td></tr></tbody></table></div></div><div class="para">
		In this section we explain how we fill the Spacewalk server. Initially we fill it with a minimal set of RPM's to make it work.
	</div><div class="para">
		This raises the question, what is a functional Spacewalk server? We think that we have a minimal functioning Spacewalk server if: 
		<div class="itemizedlist"><ul><li class="listitem"><div class="para">
					it can be used to install the OS on a system. The system may be a KVM machine.
				</div></li><li class="listitem"><div class="para">
					the installed system automatically registers to the Spacewalk server. I must show up in the list of systems of the Spacewalk web interface.
				</div></li><li class="listitem"><div class="para">
					the installed system automatically has access to configured software channel, besides the base channel. In other words: "yum repolist" on the installed system should give the configured software channels.
				</div></li><li class="listitem"><div class="para">
					the installed system automatically obtains RPM's from connected activation keys, and config files from connected config channels.
				</div></li></ul></div>

	</div><div class="para">
		To make the Spacewalk server function, we need to add RPM's from a Linux distribution. For this purpose, we use CentOS 5.8. Hence, we need to create a base channel and put RPM's into it. For registration and configuration we need some tools. We put these in a child channel. Finally, we need to create a kickstartable tree to do bare metal deployment. We show the steps in the following sections.
	</div><div class="section" id="sect-msat-guide-Initial_Spacewalk_Filling-Base_channel"><div class="titlepage"><div><div><h2 class="title" id="sect-msat-guide-Initial_Spacewalk_Filling-Base_channel">1.6.1. Base channel</h2></div></div></div><div class="para">
			First, we create the base channel. Point the browser to <a href="http://192.168.5.11">http://192.168.5.11</a> and do: <span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Channels</strong></span> → <span class="guimenuitem"><strong>Manage Software Channels</strong></span> → <span class="guimenuitem"><strong>create new channel</strong></span> → <span class="guimenuitem"><strong>Channel Name: centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Channel Label: centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Parent Channel: None</strong></span> → <span class="guimenuitem"><strong>Architecture: x86_64</strong></span> → <span class="guimenuitem"><strong>Yum Repository Checksum Type: sha1</strong></span> → <span class="guimenuitem"><strong>Channel Summary: centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>GPG key URL: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-5</strong></span>+<span class="guibutton"><strong>Create Channel</strong></span>
		</div><div class="para">
			The newly created channel needs to be filled. We use the following commands: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd</code></strong>
<code class="prompt">server#</code> <strong class="userinput"><code>wget http://mirror.nsc.liu.se/centos-store/5.8/isos/x86_64/CentOS-5.8-x86_64-bin-DVD-1of2.iso</code></strong>
.. output skipped ..
.. 77 minutes ..
<code class="prompt">server#</code> <strong class="userinput"><code>wget http://mirror.nsc.liu.se/centos-store/5.8/isos/x86_64/CentOS-5.8-x86_64-bin-DVD-2of2.iso</code></strong>
.. output skipped ..
.. 12 minutes ..
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget http://mirror.nsc.liu.se/centos-store/5.8/isos/x86_64/md5sum.txt</code></strong>
.. output skipped ..

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>md5sum CentOS-5.8-x86_64-bin-DVD-1of2.iso</code></strong>
8a3bf0030f192022943f83fe6b2cf373  CentOS-5.8-x86_64-bin-DVD-1of2.iso
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>grep CentOS-5.8-x86_64-bin-DVD-1of2.iso md5sum.txt</code></strong>
8a3bf0030f192022943f83fe6b2cf373  CentOS-5.8-x86_64-bin-DVD-1of2.iso

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>md5sum CentOS-5.8-x86_64-bin-DVD-2of2.iso</code></strong>
1d0d05edeb310c99a48fbef075695bb3  CentOS-5.8-x86_64-bin-DVD-2of2.iso
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>grep CentOS-5.8-x86_64-bin-DVD-2of2.iso md5sum.txt</code></strong>
1d0d05edeb310c99a48fbef075695bb3  CentOS-5.8-x86_64-bin-DVD-2of2.iso

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mkdir -p /var/www/html/pub/iso/{1,2}</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mount -o loop /root/CentOS-5.8-x86_64-bin-DVD-1of2.iso /var/www/html/pub/iso/1</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mount -o loop /root/CentOS-5.8-x86_64-bin-DVD-2of2.iso /var/www/html/pub/iso/2</code></strong>

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>spacewalk-repo-sync -c centos-x86_64-server-5 -u http://192.168.5.11/pub/iso/1</code></strong>
.. output skipped ..
3536/3595 : openoffice.org-langpack-hr_HR-3.1.1-19.5.el5_5.6-1.x86_64
failure: CentOS/openoffice.org-langpack-hr_HR-3.1.1-19.5.el5_5.6.x86_64.rpm from centos-x86_64-server-5: [Errno 256] No more mirrors to try.
http://192.168.5.11/pub/iso/1/CentOS/openoffice.org-langpack-hr_HR-3.1.1-19.5.el5_5.6.x86_64.rpm: [Errno 14] curl#22 - "The requested URL returned error: 404 Not Found"
.. output skipped ..
.. 4 hours and 30 minutes ..
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>rhnpush -d /var/www/html/pub/iso/2/CentOS/ -c centos-x86_64-server-5 -u example -p redhat --server $(hostname)</code></strong>
.. output skipped ..
.. 9 minutes ..
</pre>
			 The langpack errors can be ignored. Via the <code class="command">rhnpush</code> command, these packages are added.
		</div></div><div class="section" id="sect-msat-guide-Initial_Spacewalk_Filling-Tools_child_channel"><div class="titlepage"><div><div><h2 class="title" id="sect-msat-guide-Initial_Spacewalk_Filling-Tools_child_channel">1.6.2. Tools child channel</h2></div></div></div><div class="para">
			Just using CentOS 5.8 will not do. Believe us, we learned the hard way! We also need extra RPM's to make automatic registration and configuration work. Hence, a second software channel is created.
		</div><div class="para">
			<span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Channels</strong></span> → <span class="guimenuitem"><strong>Manage Software Channels</strong></span> → <span class="guimenuitem"><strong>create new channel</strong></span> → <span class="guimenuitem"><strong>Channel Name: con-tools-centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Channel Label: con-tools-centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Parent Channel: centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Architecture: x86_64</strong></span> → <span class="guimenuitem"><strong>Yum Repository Checksum Type: sha1</strong></span> → <span class="guimenuitem"><strong>Channel Summary: con-tools-centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>GPG key URL: file:///etc/pki/rpm-gpg/RPM-GPG-KEY-spacewalk-2012</strong></span>+<span class="guibutton"><strong>Create Channel</strong></span>
		</div><div class="warning"><div class="admonition_header"><h2>A software channel name cannot start with <span class="bold bold"><strong>rhn</strong></span></h2></div><div class="admonition"><div class="para">
				It is not possible to use the name <span class="bold bold"><strong>rhn-tools-centos-x86_64-server-5</strong></span>. Spacewalk forbids the use of <span class="bold bold"><strong>rhn</strong></span>. It is reserved for the Satellite server of Red Hat.
			</div></div></div><div class="para">
			We fill the tools channel with: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>spacewalk-repo-sync -c con-tools-centos-x86_64-server-5 -u http://spacewalk.redhat.com/yum/1.9-client/RHEL/5/x86_64</code></strong>
.. less than a minute ..
</pre>

		</div><div class="para">
			During one of the test installations (happens when <code class="command">rhnreg_ks</code> is run) we found out that the <span class="bold bold"><strong>con-tools-centos-x86_64-server-5</strong></span> channel is incomplete. We need an extra RPM called <span class="package">python-hashlib-20081119-4.el5.x86_64.rpm</span> because <span class="package">spacewalk-backend-libs-1.9.48-1.el5.noarch</span> depends on it. We download and push it to the channel with: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget http://dl.fedoraproject.org/pub/epel/5/x86_64/python-hashlib-20081119-4.el5.x86_64.rpm</code></strong>
.. output skipped ..
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>rhnpush -c con-tools-centos-x86_64-server-5 -u example -p redhat --server=$(hostname) python-hashlib-20081119-4.el5.x86_64.rpm</code></strong></pre>

		</div></div><div class="section" id="sect-msat-guide-Initial_Spacewalk_Filling-Registration_packages"><div class="titlepage"><div><div><h2 class="title" id="sect-msat-guide-Initial_Spacewalk_Filling-Registration_packages">1.6.3. Registration packages</h2></div></div></div><div class="para">
			Some of the packages of the <span class="bold bold"><strong>con-tools-centos-x86_64-server-5</strong></span> channel need to be moved to the <span class="bold bold"><strong>centos-x86_64-server-5</strong></span> base channel. The reason lies in the fact that the <code class="filename">comps.xml</code> for the <span class="bold bold"><strong>base</strong></span> component contains the <span class="package">rhn-check</span>, <span class="package">rhn-setup</span> and <span class="package">yum-rhn-plugin</span> packages. These are needed for system registration. Including their dependencies, we come up with the following list: 
			<div class="orderedlist"><ol><li class="listitem"><div class="para">
						<span class="package">rhn-check-1.9.10-1.el5.noarch.rpm</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">rhn-client-tools-1.9.10-1.el5.noarch.rpm</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">rhnlib-2.5.55-1.el5.noarch.rpm</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">rhnsd-5.0.9-1.el5.x86_64.rpm</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">rhn-setup-1.9.10-1.el5.noarch.rpm</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">rhn-setup-gnome-1.9.10-1.el5.noarch</span>
					</div></li><li class="listitem"><div class="para">
						<span class="package">yum-rhn-plugin-1.9.4-1.el5.noarch.rpm</span>
					</div></li></ol></div>
			 Note that <span class="package">rhn-setup-gnome-1.9.10-1.el5.noarch</span> is added because it is in <code class="filename">comps.xml</code> too, under <span class="bold bold"><strong>x-base</strong></span>.
		</div><div class="note"><div class="admonition_header"><h2>Installing MSAT</h2></div><div class="admonition"><div class="para">
				Download the tarball from <a href="http://msat.disruptivefoss.org/Downloads/tarball/msat_scripts.tgz">http://msat.disruptivefoss.org/Downloads/tarball/msat_scripts.tgz</a>. On the Spacewalk server, do: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>echo 'PATH=$PATH:/usr/local/bin/msat' &gt; /etc/profile.d/msat.sh</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mkdir -p /usr/local/bin/msat</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd /usr/local/bin/msat</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget msat.disruptivefoss.org/Downloads/tarball/msat_scripts.tgz</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>tar xzf msat_scripts.tgz</code></strong></pre>
				 A configuration file, <code class="filename">~/.sat.conf</code> is needed to. See . Make sure to replace the <em class="replaceable"><code>login</code></em> with <em class="parameter"><code>example</code></em> and <em class="replaceable"><code>password</code></em> with <em class="parameter"><code>redhat</code></em>.
			</div></div></div><div class="para">
			Before we do the move, we use our first <code class="command">msat</code> command. We need to save the above set of RPM's in a directory to be able to calculate the repository metadata later! We must do it here: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mkdir registration</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>msat_wr_sc_rpms.py -l con-tools-centos-x86_64-server-5 -e .</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd con-tools-centos-x86_64-server-5</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mv rhn-check-1.9.10-1.el5.noarch.rpm rhn-setup-* rhn-client-tools-1.9.10-1.el5.noarch.rpm rhnlib-2.5.55-1.el5.noarch.rpm rhnsd-5.0.9-1.el5.x86_64.rpm yum-rhn-plugin-1.9.4-1.el5.noarch.rpm ../registration/</code></strong></pre>

		</div><div class="para">
			Moving the RPM's means: delete them from the <span class="bold bold"><strong>con-tools-centos-x86_64-server-5</strong></span> channel at the web interface and them place them in <span class="bold bold"><strong>centos-x86_64-server-5</strong></span> channel.
		</div><div class="para">
			<span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Channels</strong></span> → <span class="guimenuitem"><strong>Manage Software Channels</strong></span> → <span class="guimenuitem"><strong>con-tools-centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Packages</strong></span> → <span class="guimenuitem"><strong>List / Remove Packages</strong></span> → <span class="guimenuitem"><strong>Check: rhn-check-1.9.10-1.el5.noarch.rpm, rhn-client-tools-1.9.10-1.el5.noarch.rpm, rhnlib-2.5.55-1.el5.noarch.rpm, rhnsd-5.0.9-1.el5.x86_64.rpm, rhn-setup-1.9.10-1.el5.noarch.rpm, rhn-setup-gnome-1.9.10-1.el5.noarch, yum-rhn-plugin-1.9.4-1.el5.noarch.rpm, </strong></span> → <span class="guimenuitem"><strong>Confirm Removal</strong></span> → <span class="guimenuitem"><strong>Remove</strong></span>
		</div><div class="para">
			<span class="guimenuitem"><strong>Channels</strong></span> → <span class="guimenuitem"><strong>Manage Software Channels</strong></span> → <span class="guimenuitem"><strong>centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Packages</strong></span> → <span class="guimenuitem"><strong>Add</strong></span> → <span class="guimenuitem"><strong>Packages in no channels.</strong></span> → <span class="guimenuitem"><strong>Select All (should be 7 just removed)</strong></span> → <span class="guimenuitem"><strong>Confirm Addition</strong></span> → <span class="guimenuitem"><strong>Add Packages(s)</strong></span>
		</div></div><div class="section" id="sect-msat-guide-Initial_Spacewalk_Filling-Kickstartable_tree"><div class="titlepage"><div><div><h2 class="title" id="sect-msat-guide-Initial_Spacewalk_Filling-Kickstartable_tree">1.6.4. Kickstartable tree</h2></div></div></div><div class="para">
			After filling the software channels, we need to create a kickstartable tree. A <span class="bold bold"><strong>kickstartable tree</strong></span> is the software from which we can start the OS installation. It is created on the Spacewalk server and on the web interface. We start with the Spacewalk server part.
		</div><div class="para">
			The part on the Spacewalk server consists of the RPM's, images and the repository metadata. A standard yum repository is a directory in which one finds the RPM's and the metadata of the repository. The metadata is calculated with the <code class="command">createrepo</code> command.
		</div><div class="para">
			Since the Satellite server stores the RPM's in its own way, it is not possible to calculate the repodata with <code class="command">createrepo</code> in the normal way. We tackle this problem by using the CentOS DVD and the <code class="filename">/root/registration</code> directory. 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mkdir -p /var/satellite/rhn/kickstart/ks-centos-x86_64-server-5u8</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd /var/satellite/rhn/kickstart/ks-centos-x86_64-server-5u8</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mount | grep CentOS-5.8-x86_64-bin-DVD-1of2.iso</code></strong>
.. not mounted ..
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>mount -o loop /root/CentOS-5.8-x86_64-bin-DVD-1of2.iso /var/www/html/pub/iso/1</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cp -a /var/www/html/pub/iso/1/images .</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cp -a /var/www/html/pub/iso/1/isolinux .</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cp -a /var/www/html/pub/iso/1/repodata .</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cp repodata/comps.xml .</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>createrepo -o /var/satellite/rhn/kickstart/ks-centos-x86_64-server-5u8 -p --simple-md-filenames --no-database -s sha -g /var/satellite/rhn/kickstart/ks-centos-x86_64-server-5u8/comps.xml --split /var/www/html/pub/iso/1/CentOS --split /var/www/html/pub/iso/2/CentOS /root/registration</code></strong>
.. takes about 2 minutes ..
</pre>

		</div><div class="para">
			The next thing we need to do, is to create the kickstartable tree on the Web interface by defining a kickstart distribution.
		</div><div class="para">
			<span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Systems</strong></span> → <span class="guimenuitem"><strong>Kickstart</strong></span> → <span class="guimenuitem"><strong>Distributions</strong></span> → <span class="guimenuitem"><strong>create new distribution</strong></span> → <span class="guimenuitem"><strong>Distribution Label: ks-centos-x86_64-server-5u8</strong></span> → <span class="guimenuitem"><strong>Tree Path: /var/satellite/rhn/kickstart/ks-centos-x86_64-server-5u8</strong></span> → <span class="guimenuitem"><strong>Base Channel: centos-x86_64-server-5</strong></span> → <span class="guimenuitem"><strong>Installer Generation: Red Hat Enterprise Linux 5</strong></span>+<span class="guibutton"><strong>Create Kickstart Distribution</strong></span>
		</div><div class="para">
			Make sure to set the <span class="bold bold"><strong>Variables</strong></span> correctly. <span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Systems</strong></span> → <span class="guimenuitem"><strong>Kickstart</strong></span> → <span class="guimenuitem"><strong>Distributions</strong></span> → <span class="guimenuitem"><strong>ks-centos-x86_64-server-5u8</strong></span> → <span class="guimenuitem"><strong>Variables</strong></span> → <span class="guimenuitem"><strong>media_path=/ks/dist/org/1/ks-centos-x86_64-server-5u8</strong></span> → <span class="guimenuitem"><strong>org=1</strong></span>+<span class="guibutton"><strong>Update Variables</strong></span>
		</div><div class="para">
			Next, we install the public GPG keys, needed for RPM verification. We download them to the Spacewalk server and also copy them to our local PC on which we run the web browser to the Spacewalk web interface. 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd /etc/pki/rpm-gpg</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget http://vault.centos.org/5.8/os/x86_64/RPM-GPG-KEY-CentOS-5</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget http://spacewalk.redhat.com/yum/RPM-GPG-KEY-spacewalk-2012</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>wget http://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-5</code></strong></pre>
			 Next we dump them to stdout so that we can copy them to our local Linux PC: 
<pre class="screen">
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cd /etc/pki/rpm-gpg</code></strong>
<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cat RPM-GPG-KEY-CentOS-5</code></strong>
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.2.6 (GNU/Linux)

mQGiBEWfB6MRBACrnYW6yKMT+MwJlCIhoyTxGf3mAxmnAiDEy6HcYN8rivssVTJk
CFtQBlBOpLV/OW2YtKrCO2xHn46eNfnMri8FGT8g+9JF3MUVi7kiV1He4iJynHXB
+F2ZqIvHf3IaUj1ys+p8TK64FDFxDQDrGQfIsD/+pkSGx53/877IrvdwjwCguQcr
Ioip5TH0Fj0OLUY4asYVZH8EAIqFHEqsY+9ziP+2R3/FyxSllKkjwcMLrBug+cYO
LYDD6eQXE9Mq8XKGFDj9ZB/0+JzK/XQeStheeFG75q3noq5oCPVFO4czuKErIRAB
qKbDBhaTj3JhOgM12XsUYn+rI6NeMV2ZogoQCC2tWmDETfRpYp2moo53NuFWHbAy
XjETA/sHEeQT9huHzdi/lebNBj0L8nBGfLN1nSRP1GtvagBvkR4RZ6DTQyl0UzOJ
RA3ywWlrL9IV9mrpb1Fmn60l2jTMMCc7J6LacmPK906N+FcN/Docj1M4s/4CNanQ
NhzcFhAFtQL56SNyLTCk1XzhssGZ/jwGnNbU/aaj4wOj0Uef5LRGQ2VudE9TLTUg
S2V5IChDZW50T1MgNSBPZmZpY2lhbCBTaWduaW5nIEtleSkgPGNlbnRvcy01LWtl
eUBjZW50b3Mub3JnPohkBBMRAgAkBQJFnwekAhsDBQkSzAMABgsJCAcDAgMVAgMD
FgIBAh4BAheAAAoJEKikR9zoViiXKlEAmwSoZDvZo+WChcg3s/SpNoWCKhMAAJwI
E2aXpZVrpsQnInUQWwkdrTiL5YhMBBMRAgAMBQJFnwiSBYMSzAIRAAoJEDjCFhY5
bKCk0hAAn134bIx3wSbq58E6P6U5RT7Z2Zx4AJ9VxnVkoGHkVIgSdsxHUgRjo27N
F7kBDQRFnwezEAQA/HnJ5yiozwgtf6jt+kii8iua+WnjqBKomPHOQ8moxbWdv5Ks
4e1DPhzRqxhshjmub4SuJ93sgMSAF2ayC9t51mSJV33KfzPF2gIahcMqfABe/2hJ
aMzcQZHrGJCEX6ek8l8SFKou7vICzyajRSIK8gxWKBuQknP/9LKsoczV+xsAAwUD
/idXPkk4vRRHsCwc6I23fdI0ur52bzEqHiAIswNfO521YgLk2W1xyCLc2aYjc8Ni
nrMX1tCnEx0/gK7ICyJoWH1Vc7//79sWFtX2EaTO+Q07xjFX4E66WxJlCo9lOjos
Vk5qc7R+xzLDoLGFtbzaTRQFzf6yr7QTu+BebWLoPwNTiE8EGBECAA8FAkWfB7MC
GwwFCRLMAwAACgkQqKRH3OhWKJfvvACfbsF1WK193zM7vSc4uq51XsceLwgAoI0/
9GxdNhGQEAweSlQfhPa3yYXH
=o/Mx
-----END PGP PUBLIC KEY BLOCK-----

<code class="prompt">localpc$</code> <strong class="userinput"><code>cat &gt; /tmp/RPM-GPG-KEY-CentOS-5</code></strong>
.. the base64 encoded key from above ..

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cat RPM-GPG-KEY-spacewalk-2012</code></strong>
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v2.0.18 (GNU/Linux)

mQGiBE9V9U0RBADjRxY1+Ng5gzaAj2LYHNwXHzyH65p+jL80+2vkf6WCNvewa+zK
SY8JH3syZMhjGi/vW3TcDy5KVqiXS2rpMJS6zCBrOJbtcFdV3VvbsPd7hK9COlph
NUx5RSIIwZRg1wyEjgeuYOSLuIhqNsI+fjXk+uzletSLtIYUF3TUq5jCvwCg4XQ/
/RPOFH6KiHfIx8QUZmvT0IkD/ip7pOn5uSPNiIbj3X5RYbz8PB/z5OuoenfzYn4R
WDBXZBlWMaPJCupAYwdP9IsiXo8WvbyXPHgG91P/MStrCgOffACNhuMus1FwqlCQ
VFuKENB6f2g4DY9Mow6bKYgsSEy0qnEF5I2M+BqjApO0oznxzcyJ4coXQdA9/oCP
vYU5A/9FTgukU1p/CbNJIhT4iH+vE6cKFGAtzhwwQxMdnii8ctcKiCYgiimuU7OG
rcPKR1xsRX/sc6XZYJeLmc1Lt7Btkdl36RY5BgesVJkUNyKh8+7MllW5PvVFvtGv
vvvrRVK+mJYxdBU0/Sqc94ZgBW6vdvRwHgXhpKor6NsCfJUWvLQmU3BhY2V3YWxr
IDxzcGFjZXdhbGstZGV2ZWxAcmVkaGF0LmNvbT6IaAQTEQIAKAUCT1X1TQIbAwUJ
BKKGAAYLCQgHAwIGFQgCCQoLBBYCAwECHgECF4AACgkQDmRvaIY6hT16sQCfVuJv
KnSWzWXo0ek16NrqUSgdTYIAn3Q6Jc3GAzkx/JgmA6T6pLxp2f1uiEYEEBECAAYF
Ak9V/egACgkQ7WNTebOJITK97gCfdeNye+OKidB2huEfzxP37ZkdfSIAniAA4NMY
QsmjPPkUJSVguO7GbdXSuQINBE9V9U0QCACBbWXaPP5RqAIGnr9LeFbSYpWs2SnL
KPv0qylyOGMc3GwmpJjeuz1d4y5fHIQxsQl7+RLIxOARcYH1QL6gHN450JcpYzau
/Lj1ArsAP/QK/J8YSmjG0E0rU8sYRWIu7jzISgfMAs3c3wNvOMUCiXtXFV6crm9q
3kbrZTedWLkShSLDAp5394hmBbRicWnc9h4LwBKp+BBtsvJFfDydc8IJUGZLZNZT
RayYWC5VMDe1xmOZXhNpDxfNrjhUUI6E6qWwdinmzifhP6z6YNtRON1yWSLBwtcr
LghyEJlilijIbCDgZ8Nvtqy/c2ypcLxMrXy70x05fjcQK2KIuLI58GGDAAMFB/9n
m5YLj4S4XxF8/xP7givuPq37C7NYLOuzFKKx6xxqngV8TNGDVU2zv/lieh2ussXE
XF/S9Du2abpXYgxsxwFJNMMKXUam03ExFSUvUAco6nmxySzvtgudCZ/9HqLhbNVu
RpyUNA/g9vkYK6KVdxAeHUdu/EwfSL/pCEc11Dw1jYqbihktlTQPcizsSPG4Y7jh
OUrKgxJop9DovUGzuUSl/7zYr4W7TiGV3my0f7U3qkpVT0bQoMnw8TxCZj4x3umo
F4klakeGX0FK4vwV5hDq32Q6vWN804F34Vi3WsaUT9G1E3H7/s/OQgWLOm16mgjR
pN1E79kYwtPMCAz0pYMciE8EGBECAA8FAk9V9U0CGwwFCQSihgAACgkQDmRvaIY6
hT3D2ACfYsiYS39rFdR1aBHviE0hVm9MWxUAnR3Ua92zW/0UoJ7TgxR0Dxzta37z
=yqYQ
-----END PGP PUBLIC KEY BLOCK-----

<code class="prompt">localpc$</code> <strong class="userinput"><code>cat &gt; /tmp/RPM-GPG-KEY-spacewalk-2012</code></strong>
.. the base64 encoded key from above ..

<code class="prompt">d19sw1#</code> <strong class="userinput"><code>cat RPM-GPG-KEY-EPEL-5</code></strong>
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v1.2.6 (GNU/Linux)

mQGiBEXopTIRBACZDBMOoFOakAjaxw1LXjeSvh/kmE35fU1rXfM7T0AV31NATCLF
l5CQiNDA4oWreDThg2Bf6+LIVTsGQb1V+XXuLak4Em5yTYwMTVB//4/nMxQEbpl/
QB2XwlJ7EQ0vW+kiPDz/7pHJz1p1jADzd9sQQicMtzysS4qT2i5A23j0VwCg1PB/
lpYqo0ZhWTrevxKMa1n34FcD/REavj0hSLQFTaKNLHRotRTF8V0BajjSaTkUT4uk
/RTaZ8Kr1mTosVtosqmdIAA2XHxi8ZLiVPPSezJjfElsSqOAxEKPL0djfpp2wrTm
l/1iVnX+PZH5DRKCbjdCMLDJhYap7YUhcPsMGSeUKrwmBCBJUPc6DhjFvyhA9IMl
1T0+A/9SKTv94ToP/JYoCTHTgnG5MoVNafisfe0wojP2mWU4gRk8X4dNGKMj6lic
vM6gne3hESyjcqZSmr7yELPPGhI9MNauJ6Ob8cTR2T12Fmv9w03DD3MnBstR6vhP
QcqZKhc5SJYYY7oVfxlSOfF4xfwcHQKoD5TOKwIAQ6T8jyFpKbQkRmVkb3JhIEVQ
RUwgPGVwZWxAZmVkb3JhcHJvamVjdC5vcmc+iGQEExECACQFAkXopTICGwMFCRLM
AwAGCwkIBwMCAxUCAwMWAgECHgECF4AACgkQEZzANiF1IfabmQCgzvE60MnHSOBa
ZXXF7uU2Vzu8EOkAoKg9h+j0NuNom6WUYZyJQt4zc5seuQINBEXopTYQCADapnR/
blrJ8FhlgNPl0X9S3JE/kygPbNXIqne4XBVYisVp0uzNCRUxNZq30MpY027JCs2J
nL2fMpwvx33f0phU029vrIZKA3CmnnwVsjcWfMJOVPBmVN7m5bGU68F+PdRIcDsl
PMOWRLkTBZOGolLgIbM4719fqA8etewILrX6uPvRDwywV7/sPCFpRcfNNBUY+Zx3
5bf4fnkaCKxgXgQS3AT+hGYhlzIqQVTkGNveHTnt4SSzgAqR9sSwQwqvEfVtYNeS
w5rDguLG41HQm1Hojv59HNYjH6F/S1rClZi21bLgZbKpCFX76qPt8CTw+iQLBPPd
yoOGHfzyp7nsfhUrAAMFB/9/H9Gpk822ZpBexQW4y3LGFo9ZSnmu+ueOZPU3SqDA
DW1ovZdYzGuJTGGM9oMl6bL8eZrcUBBOFaWge5wZczIE3hx2exEOkDdvq+MUDVD1
axmN45q/7h1NYRp5GQL2ZsoV4g9U2gMdzHOFtZCER6PP9ErVlfJpgBUCdSL93V4H
Sgpkk7znmTOklbCM6l/G/A6q4sCRqfzHwVSTiruyTBiU9lfROsAl8fjIq2OzWJ2T
P9sadBe1llUYaow7txYSUxssW+89avct35gIyrBbof5M+CBXyAOUaSWmpM2eub24
0qbqiSr/Y6Om0t6vSzR8gRk7g+1H6IE0Tt1IJCvCAMimiE8EGBECAA8FAkXopTYC
GwwFCRLMAwAACgkQEZzANiF1IfZQYgCgiZHCv4xb+sTHCn/otc1Ovvi/OgMAnRXY
bbsLFWOfmzAnNIGvFRWy+YHi
=MMNL
-----END PGP PUBLIC KEY BLOCK-----

<code class="prompt">localpc$</code> <strong class="userinput"><code>cat &gt; /tmp/RPM-GPG-KEY-EPEL-5</code></strong>
.. the base64 encoded key from above ..

</pre>

		</div><div class="para">
			Next, we need to upload the public GPG keys to the Spacewalk server, via the web interface.
		</div><div class="para">
			<span class="guimenu"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Spacewalk Login: example</strong></span> → <span class="guimenuitem"><strong>Password: redhat</strong></span>+<span class="guibutton"><strong>Sign In</strong></span> → <span class="guimenuitem"><strong>Systems</strong></span> → <span class="guimenuitem"><strong>Kickstart</strong></span> → <span class="guimenuitem"><strong>GPG and SSL Keys</strong></span> → <span class="guimenuitem"><strong>create new stored key/cert</strong></span> <div class="table" id="tabl-msat-guide-Kickstartable_tree-Create_CentOS_5_GPGSSL_Key"><h6>Table 1.11. Create CentOS 5 GPG/SSL Key</h6><div class="table-contents"><table summary="Create CentOS 5 GPG/SSL Key" border="1"><colgroup><col width="50%" style="text-align: left" class="c1" /><col width="50%" style="text-align: left" class="c2" /></colgroup><thead valign="top"><tr><th style="text-align: left" valign="top">
								parameter
							</th><th style="text-align: left" valign="top">
								value
							</th></tr></thead><tbody valign="top"><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Description:</strong></span>
							</td><td style="text-align: left" valign="top">
								RPM-GPG-KEY-CentOS-5
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Type:</strong></span>
							</td><td style="text-align: left" valign="top">
								GPG
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Select file to upload:</strong></span>
							</td><td style="text-align: left" valign="top">
								<code class="filename">/tmp/RPM-GPG-KEY-CentOS-5</code>
							</td></tr></tbody></table></div></div>
			 <div class="table" id="tabl-msat-guide-Kickstartable_tree-Create_Spacewalk_2012_GPGSSL_Key"><h6>Table 1.12. Create Spacewalk 2012 GPG/SSL Key</h6><div class="table-contents"><table summary="Create Spacewalk 2012 GPG/SSL Key" border="1"><colgroup><col width="50%" style="text-align: left" class="c1" /><col width="50%" style="text-align: left" class="c2" /></colgroup><thead valign="top"><tr><th style="text-align: left" valign="top">
								parameter
							</th><th style="text-align: left" valign="top">
								value
							</th></tr></thead><tbody valign="top"><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Description:</strong></span>
							</td><td style="text-align: left" valign="top">
								RPM-GPG-KEY-spacewalk-2012
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Type:</strong></span>
							</td><td style="text-align: left" valign="top">
								GPG
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Select file to upload:</strong></span>
							</td><td style="text-align: left" valign="top">
								<code class="filename">/tmp/RPM-GPG-KEY-spacewalk-2012</code>
							</td></tr></tbody></table></div></div>
			 <div class="table" id="tabl-msat-guide-Kickstartable_tree-Create_EPEL_5_GPGSSL_Key"><h6>Table 1.13. Create EPEL 5 GPG/SSL Key</h6><div class="table-contents"><table summary="Create EPEL 5 GPG/SSL Key" border="1"><colgroup><col width="50%" style="text-align: left" class="c1" /><col width="50%" style="text-align: left" class="c2" /></colgroup><thead valign="top"><tr><th style="text-align: left" valign="top">
								parameter
							</th><th style="text-align: left" valign="top">
								value
							</th></tr></thead><tbody valign="top"><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Description:</strong></span>
							</td><td style="text-align: left" valign="top">
								RPM-GPG-KEY-EPEL-5
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Type:</strong></span>
							</td><td style="text-align: left" valign="top">
								GPG
							</td></tr><tr><td style="text-align: left" valign="top">
								<span class="bold bold"><strong>Select file to upload:</strong></span>
							</td><td style="text-align: left" valign="top">
								<code class="filename">/tmp/RPM-GPG-KEY-EPEL-5</code>
							</td></tr></tbody></table></div></div>

		</div></div></div></body></html>
